<!DOCTYPE html>
<!-- saved from url=(0029)http://email.163.com/#style=7 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>淘天天</title>
<meta name="description" content="网易免费邮箱--中国第一大电子邮件服务商，提供以@163.com、@126.com和@yeah.net为后缀的免费邮箱。16年邮箱运营经验，系统快速稳定，垃圾邮件拦截率超过98%，邮箱容量自动翻倍，支持高达2G超大附件，提供免费网盘及手机邮箱服务。">
<meta name="keywords" content="邮件，邮箱，电子邮件，电子邮箱，网易邮箱，163邮箱，126邮箱，yeah邮箱，免费邮箱，mail，email，网盘">
<link rel="shortcut icon" href="http://email.163.com/favicon.ico">
<style type="text/css">
body{line-height:1.666;background-color:#1370A6}
body,select,input,h1,h2,h3{font-size:12px}
body,input,select{font-family:verdana}
body,h1,h2,h3,ul,li,form,p,img{margin:0;padding:0;border:0}
input{margin:0;padding:0}
input,img{line-height:normal}
ul,li{list-style:none}
article,aside,footer,header,hgroup,nav,section{display: block}
a{color:#fff;text-decoration:none}
a:hover{text-decoration:underline}
.ipt-c{width:16px;height:16px;vertical-align:middle;padding:0}

.page,html,body{width:100%;height:100%}
.page{min-width:689px;min-height:435px;position:relative;+zoom:1}
/* 行内元素 */
.btn,
.copy-item,
.ico,
.tab-list{display:inline-block;+display:inline;+zoom:1;vertical-align:middle}
/* 隐藏文字 */
.main h3,
.tab-list .item .ico-logo,
.form .hd{line-height:100px;overflow:hidden}
/* 背景 */
.btn,
.form .hd,
.ico{background-image:url(http://mimg.127.net/index/email/img/2012/bg_v2.png);background-repeat:no-repeat}
.main h3,
.ico-arr,
.ico-logo{background-image:url(http://mimg.127.net/index/email/img/2012/logo_v2.png)}
.ico-arr{background-image:url(http://mimg.127.net/index/email/img/2012/arr.png);_background-image:url(http://mimg.127.net/index/email/img/2012/logo_ie6_v2.png)}
/* 图标 */
.ico-logo{height:30px;background-position:0 0}
.ico-logo-163{width:131px}
.ico-logo-126{width:133px;background-position:-144px 0}
.ico-logo-yeah{width:130px;background-position:0 -34px}
.ico-logo-shouji{width:139px;height:35px;background-position:0 -90px}
.ico-arr{width:16px;height:24px;background-position:0 0;_background-position:-288px 0}
.ico-why{width:14px;height:14px;background-position:-336px -64px}
.ico-rArr{width:4px;height:7px;background-position:-336px -128px}
.ico-checkbox{width:13px;height:13px;background-position:-336px -160px}
.mail-shouji .user .ico,
.ico-shouji{width:15px;height:23px;background-position: -176px -262px}
.ipt-wraper-checked .ico-checkbox{background-position:-336px -176px}
/* 按钮 */
.btn{border:0;width:102px;height:40px}
.btn-login{background-position:0 -64px}
.btn-login-hover{background-position:-112px -64px}
.btn-login-active{background-position:-224px -64px}
/* 输入框 */
.ipt-wraper .ipt-c{visibility:hidden;position:absolute}
.ipt-wraper .ico-checkbox{position:relative;top:-1px;margin-right:3px}
/* tab */
.tab-list{width:220px;position:relative;+zoom:1;box-shadow:0px 1px 5px rgba(0,0,0,0.2)}
.tab-list .item{cursor:pointer;position:relative;overflow:hidden;+zoom:1;height:77px;width:220px;vertical-align:top}
.tab-list .item .bg{cursor:pointer;width:100%;height:76px;background-color:#fff;border-bottom:1px solid #ccc;position:absolute;z-index:0;left:0;top:0;opacity:0.4;filter:alpha(opacity=40);_filter:alpha(opacity=50)}
.tab-list .item .bg-selected{display:none;position:absolute;z-index:4;top:0;left:0;background-image:url(http://mimg.127.net/index/email/img/2012/bgx.png);background-repeat:repeat-x;_background:#fff;_filter:alpha(opacity=50);width:219px;height:76px;zoom:1}
.tab-list .item .logo{position:absolute;zoom:1;background-color:transparent;cursor:pointer;z-index:5;top:23px;left:47px;opacity:0.6;filter:alpha(opacity=60)}
.mail-163 .tab-list .item-163 .bg,
.mail-126 .tab-list .item-126 .bg,
.mail-yeah .tab-list .item-yeah .bg,
.tab-list .hover .bg{opacity:0.6;filter:alpha(opacity=60);_filter:alpha(opacity=80)}
.mail-163 .tab-list .item-163 .logo,
.mail-126 .tab-list .item-126 .logo,
.mail-yeah .tab-list .item-yeah .logo{opacity:1;filter:alpha(opacity=100)}
.tab-list .hover .logo{opacity:0.7;filter:alpha(opacity=70)}
.mail-163 .tab-list .item-163 .bg-selected,
.mail-126 .tab-list .item-126 .bg-selected,
.mail-yeah .tab-list .item-yeah .bg-selected,
.mail-shouji .tab-list .item-shouji .bg-selected{display:block}
/* tab panel */
.tab-panel{width:460px;height:308px;border-color:#CDCDCD;border-width:0;background-color:#fff;;border-style:solid;position:relative;z-index:10;+zoom:1;box-shadow:0px 1px 5px RGBA(0,0,0,0.5)}
.tab-panel .form{padding:0 60px}
.tab-panel-locat{position:absolute;z-index:15;top:28px;left:-15px}
.tab-panel .shadow,
.tab-list .shadow{display:none}

/* 表单 */
.form{overflow:hidden;+zoom:1;color:#7A8698;line-height:normal;height:308px}
.form a{color:#217DD9}
.form .hd{width:167px;height:24px;background-position:0 0}
#hdExtLink{position:absolute; top:29px; right:54px; padding:0 4px; line-height: 21px; background-color:#4793e5; font-weight: bold; color: #fff; border-radius: 2px; text-decoration: none;}
.form .options{position:relative;+zoom:1}
.form .options label{margin-right:60px}
.form .options .help{line-height:0;display:inline-block;+display:inline;+zoom:1;vertical-align:top;margin-left:4px}
.form .options .ext{position:absolute;right:0;top:0;color:#7a8698}
.form .options .ext:hover{text-decoration:none;color:#217dd9}
.form .ft{border-top:1px solid #C9D6DD;padding-top:11px}
.form .hd{margin-top:29px;}
.form .user,
.form .pass{margin-top:26px}
.form .user{z-index: 1}
.form .options{margin-top:16px}
.form .ft{margin-top:25px}
.form .user .ico{position:absolute;left:12px;top:12px;display:none}
/* 版本选择 */
.ft-mailver-text{color:#7a8698}
.form .ft-mailver-now{cursor:pointer;display:inline-block;padding-right:12px;position:relative;color:#7a8698;}
.form .ft-mailver-now:hover{color:#217dd9;text-decoration:none;}
#loginFootTipsVer{position:relative;}
.ft-verSelect{position:absolute;width:133px;border:1px solid #cdcdcd;overflow:hidden;background:#fff;z-index:2;top:263px;left:108px;display:none;box-shadow:0px 1px 5px rgba(0,0,0,0.5);border-color:rgba(205, 205, 205, 0)}
.ft-verSelect-inner{width:131px;border:1px solid #fff;overflow:hidden;}
.ft-verSelect-inner li{float:left:height:24px;width:131px;overflow:hidden}
.form .ft-verSelect-inner-a{height:24px;width:131px;overflow:hidden;display:block;line-height:24px;color:#7a8698;text-indent:18px;}
.form .ft-verSelect-inner-a-selected{color:#217dd9;text-decoration:none}
.form .ft-verSelect-inner-a:hover{background:#ecf5fa;text-decoration:none}
.ft-mailver-darr{position:absolute;width:7px;height:4px;overflow:hidden;right:0;top:5px;}
.ft-mailver-darr i{background:#217dd9}
.ft-verSelect-tick{height:13px;width:13px;overflow:hidden;left:4px;position:absolute;top:0}
.icoTick-color1{background:#c8e0f4}
.icoTick-color2{background:#217dd9}
.icoTick-color3{background:#b7d6f1}
.icoTick-color4{background:#98c4ec}
/* 输入框 */
.ipt-t{line-height:0;font-size:0;border-radius:2px;position:relative;+zoom:1;height:46px;border:1px solid #BAC7D2;background-color:#ECF5FA;box-shadow:0 0 2px RGBA(0,46,115,.25) inset;font-family:'Microsoft Yahei';z-index: 1;}
.ipt-t input{width:211px;outline:none;background:none;border:none;height:19px;margin:0;padding:13px 10px;_padding-bottom:10px;font-size:14px;line-height:normal;color:#000;font-weight:bold;margin-top;1px;}
.ipt-t label{position:absolute;left:0;top:12px;line-height:normal;font-size:16px;color:#90A2BC}
#capsLockHint{position: absolute; top: 47px; left: 0px;padding: 4px 8px; font-size:12px; line-height: 12px; background-color: #ffffcc; border: 1px solid #d7d7d7; color: #555; z-index: 2;}
.ipt-t .domain{position:absolute;font-size:14px;font-weight:bold;font-family:verdana;height:46px;width:105px;border-left:1px solid #E0E9ED;text-align:center;color:#5E6F88;line-height:46px;background-color:#F7FBFD;right:0;top:0}
.ipt-t .btn-login{position:absolute;top:3px;right:3px;cursor:pointer;}
.ipt-t-hover{border-color:#93afc6}
.ipt-t-hover label{color:#6C88B3}
.ipt-t-focus{border-color:#7dc4ff}
.ipt-t-focus label{color:#6D89B3}
/* 动画 */
.main h3,
.tab-list .item .bg,
.tab-list .item .logo,
.tab-panel-locat{-webkit-transition:all .3s;-moz-transition:all .3s;-o-transition:all .3s;-ms-transition:all .3s;transition:all .3s}
/* 顶部 */
header{position:relative;z-index:11;height:45px}
header .bg{position:absolute;z-index:2;left:0;top:0;width:100%;height:45px;background-color:#000;opacity:0.5;filter:alpha(opacity=50);_filter:alpha(opacity=100);_background-color:#1b1b1b}
header .inner{position:relative;z-index:3;width:680px;margin:0 auto}
header h1{position:absolute;top:9px;left:1px;opacity:0.6;filter:alpha(opacity=60);_background-image:url(http://mimg.127.net/index/email/img/2012/ntes_logo_ie6.png);}
header h1 img{_visibility:hidden}
header .ext{position:absolute;right:0;line-height:normal;top:15px;opacity:0.4;filter:alpha(opacity=40)}
header .link{margin-left:20px}
/* 主要 */
.main{position:relative;z-index:10}
.main .inner{width:680px;margin:0 auto;position:relative;+zoom:1}
.tab{position:relative;+zoom:1}
.tab-panel{position:absolute;left:220px;top:0}
.main h3{position:absolute;z-index:1;width:298px;height:26px;background-position:0 -64px;top:-80px;left:0}
/* 推广 */
.expansion{text-align:left;position:absolute;z-index:10;bottom:46px;left:0;width:100%;height:18px;color:#a0c9e0;}
.expansion .inner{border-top:1px solid #75b3d5;line-height:17px;height:17px;margin:0 auto;position:relative;width:680px;text-align:center;border-color:rgba(255, 255, 255 , 0.2)}
.expansion a{color:#fff;}
.expansion a:hover{text-decoration:none}
.expansion .tranex{position:relaitve;zoom:1;opacity:0.5;filter:alpha(opacity=50);z-index:1;}
.expansion .tranex:hover{opacity:0.8;filter:alpha(opacity=80)}
.expansion span{margin-right:3px;}
/*.expansion .left{position:absolute;text-align:left;left:0;top:0;line-height:17px;height:17px;z-index:2;}
.expansion .right{position:absolute;text-align:right;right:0;top:0;line-height:17px;height:17px;z-index:2;}*/

#extText a{color:#fff;position:relaitve;zoom:1;opacity:0.5;filter:alpha(opacity=50);z-index:1;}
#extText a:hover,
#extText li:hover{text-decoration:none;opacity:0.8;filter:alpha(opacity=80)}
#extText .ext-1{position:absolute;text-align:left;left:0;top:0;line-height:17px;height:17px;z-index:2;}
#extText .ext-3{position:absolute;text-align:right;right:0;top:0;line-height:17px;height:17px;z-index:2;}
/* 版权 */
.copyright{text-align:left;position:absolute;z-index:10;bottom:0;left:0;width:100%;height:45px}
.copyright .bg{position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fff;opacity:0.4;filter:alpha(opacity=40)}
.copyright .inner{padding-top:16px;width:680px;margin:0 auto;position:relative;z-index:2}
.copyright,.copyright a{color:#000}
.copy-item{margin-right:18px;vertical-align:top;opacity:0.4;filter:alpha(opacity=40)}
.copy-item-img{margin-right:0;position:absolute;right:0;top:15px;opacity:0.65;filter:alpha(opacity=65)}
.copy-item .sptln{margin-right:18px}
/* 主题背景 */
.theme{overflow:hidden;position:absolute;z-index:5;width:100%;height:100%;left:0;top:0;background:url('http://mimg.127.net/index/email/img/2012/all2.jpg') center center no-repeat;}

.mail-126 .icoTick-color1{background:#c5e8c7}
.mail-126 .icoTick-color2{background:#01ab1d}
.mail-126 .icoTick-color3{background:#c8e9c9}
.mail-126 .icoTick-color4{background:#8dd796}
.mail-126 .form .ft-verSelect-inner-a{color:#537a5b;}
.mail-126 .form .ft-verSelect-inner-a-selected{color:#01ab1d;}
.mail-126 .form .ft-verSelect-inner-a:hover{background:#eff5eb;}
.mail-126 .ft-mailver-text{color:#537a5b}
.mail-126 .form .ft-mailver-now{color:#537a5b}
.mail-126 .form .ft-mailver-now:hover{color:#01ab1d}
.mail-126 .ft-mailver-darr i{background:#01ab1d}
.mail-126 .form .options .ext{color:#537a5b;}
.mail-126 .form .options .ext:hover{color:#01ab1d}
.mail-126 .form{color:#537A5B}
.mail-126 .form a{color:#01AB1D}
.mail-126 .form .hd{background-position:-176px 0}
.mail-126 .form .ft{border-color:#C9D6DD}
.mail-126 .ipt-t{box-shadow: 0 0 2px RGBA(0,86,31,.25) inset;border-color:#b5cdaa;background-color:#EFF5EB}
.mail-126 .ipt-t label{color:#85A28B}
.mail-126 .ipt-t-hover{border-color:#97b188}
.mail-126 .ipt-t-hover label{color:#73937A}
.mail-126 .ipt-t-focus{border-color:#81dc4d}
.mail-126 .ipt-t-focus label{color:#73937A}
.mail-126 .ipt-t .domain{background-color:#F9FBF7;border-color:#E3E9DF;color:#4C8057}
.mail-126 .ipt-t .btn-login{background-position:0 -112px}
.mail-126 .ipt-t .btn-login-hover{background-position:-112px -112px}
.mail-126 .ipt-t .btn-login-active{background-position:-224px -112px}
.mail-126 .ico-why{background-position:-336px -80px}
.mail-126 .tab-panel-locat{top:104px}
.mail-126 .ico-checkbox{background-position:-336px -192px}
.mail-126 .ipt-wraper-checked .ico-checkbox{background-position:-336px -208px}

.mail-yeah .icoTick-color1{background:#edcccd}
.mail-yeah .icoTick-color2{background:#dc1f26}
.mail-yeah .icoTick-color3{background:#eeced0}
.mail-yeah .icoTick-color4{background:#e89b9d}
.mail-yeah .form .ft-verSelect-inner-a{color:#7d7d7d;}
.mail-yeah .form .ft-verSelect-inner-a-selected{color:#dc1f26;}
.mail-yeah .form .ft-verSelect-inner-a:hover{background:#f1f1f1;}
.mail-yeah .ft-mailver-text{color:#7d7d7d}
.mail-yeah .form .ft-mailver-now{color:#7d7d7d}
.mail-yeah .form .ft-mailver-now:hover{color:#dc1f26}
.mail-yeah .ft-mailver-darr i{background:#dc1f26}
.mail-yeah .form .options .ext{color:#7d7d7d;}
.mail-yeah .form .options .ext:hover{color:#dc1f26;}
.mail-yeah .form{color:#7D7D7D}
.mail-yeah .form a{color:#DC1F26}
.mail-yeah .form .hd{width:180px;background-position:-176px -33px}
.mail-yeah .form .ft{border-color:#C9D6DD}
.mail-yeah .ipt-t{box-shadow: 0 0 2px RGBA(67,67,67,.25) inset;border-color:#C9C9C9;background-color:#f1f1f1}
.mail-yeah .ipt-t label{color:#A0A0A0}
.mail-yeah .ipt-t-hover{border-color:#b0b0b0}
.mail-yeah .ipt-t-hover label{color:#898989}
.mail-yeah .ipt-t-focus{border-color:#d5a3a3}
.mail-yeah .ipt-t-focus label{color:#898989}
.mail-yeah .ipt-t .domain{background-color:#F9F9F9;border-color:#E5E5E5;color:#707070}
.mail-yeah .ipt-t .btn-login{background-position:0 -160px}
.mail-yeah .ipt-t .btn-login-hover{background-position:-112px -160px}
.mail-yeah .ipt-t .btn-login-active{background-position:-224px -160px}
.mail-yeah .ico-why{background-position:-336px -96px}
.mail-yeah .tab-panel-locat{top:181px}
.mail-yeah .ico-checkbox{background-position:-336px -224px}
.mail-yeah .ipt-wraper-checked .ico-checkbox{background-position:-336px -240px}

.mail-shouji .form a .ico-rArr{margin-left:4px}
.mail-shouji .form a:hover{color:#2475B5}
.mail-shouji .form a:hover .ico-rArr{background-position:-336px -144px}
.mail-shouji .form{color:#7A8698}
.mail-shouji .form .hd{background-position:0 -262px}
.mail-shouji .user .placeholder{text-indent:36px;}
.mail-shouji .user input{width:296px;margin-left:24px;}
.mail-shouji .user .ico{display:block;}
.mail-shouji .ipt-t .domain{display:none}
.mail-shouji .ipt-t .btn-login{background-position:0 -208px}
.mail-shouji .ipt-t .btn-login-hover{background-position:-112px -208px}
.mail-shouji .ipt-t .btn-login-active{background-position:-224px -208px}
.mail-shouji .ico-why{background-position:-336px -112px}
.mail-shouji .tab-panel-locat{top:256px}

.bd .showPlaceholder .placeholder{visibility:visible;cursor:text;}
.bd .placeholder{font-size:16px;text-indent:12px;position:absolute;background:none;width:250px;visibility:hidden;}

#divError{padding:0 9px;width:320px;line-height:19px;position:absolute;top:130px;left:60px;color:#ff0000;background-color:#fff799;}
.ft-ext{position:absolute;top:270px;right:60px;}

.iptLayer{position:absolute;left:-1px;top:50px;background:#ECF5FA;border:1px solid #C6D1DA;width:338px;color:#9FB0C6;font-size:14px;line-height:2;padding:5px 0}
.iptLayer p,
.iptLayer li a{padding:0 24px;}
.iptLayer li a{display: block;color:#405A73!important;overflow:hidden;text-overflow:ellipsis;}
.iptLayer li a.iptLayer-selected,
.iptLayer li a:hover{background:#D0E5F2;text-decoration: none}
/* 对话框
============================== */
.g-dialogBox{display:none;position:absolute;width:430px;z-index:101;left:50%;top:50%;margin-left:-215px;margin-top:-77px;px;border-radius:2px 2px 0 0}
.g-dialogBox{-webkit-box-shadow:0 0 15px #888;-moz-box-shadow:0 0 15px #888;box-shadow:0 0 15px #888}
.g-dialogBox-text{font-size:14px;}
.g-dialogBox-hd{height:27px;line-height:27px;margin:0 2px;padding:0 10px;background-position:0 -224px;color:#fff;position:relative}
.g-dialogBox-hd-rc{position:absolute;top:0;width:2px;height:27px}
.g-dialogBox-hd-rc-1{left:-2px;background-position:0 -96px}
.g-dialogBox-hd-rc-2{right:-2px;background-position:-2px -96px}
.g-dialogBox-hd-title{font-size:14px}
.g-dialogBox-hd-ext{position:absolute;top:3px;right:3px;line-height:20px}
.g-dialogBox-hd-oprt{float:right;width:20px;height:20px}
.g-dialogBox-hd-oprt-close{background-position:0 -128px}
.g-dialogBox-hd-oprt-close:hover{background-position:0 -160px}
.g-dialogBox-hd-oprt-close:active{background-position:0 -192px}
.g-dialogBox-bd{background:#fff;border-width:0 1px 1px;border-style:solid}
/* 简单内容 */
.g-dialogBox-simpleContent{padding:30px 30px}
.g-dialogBox-simpleContent .title{text-align:center;color:#f00;font-size:14px;font-weight:bold}
.g-dialogBox-ft{height:42px;padding:0 10px;border-width:0 1px 1px;border-style:solid}
.g-dialogBox-ft-oprt{/*position:absolute;right:10px;top:8px;*/float:right;display:inline;margin:8px 0 0 0;+margin-right:-10px}
.g-dialogBox-ft-oprt .g-btn{margin-left:10px}
.g-dialogBox-ft-ext{float:left;margin-top:13px;line-height:normal}
.g-btn{font-size:12px;height:24px;padding:0 3px;position:relative}
.g-btn-inner{border-color: #969696;height:24px;line-height:23px;+line-height:25px;padding:0 8px;color:#000!important;vertical-align:baseline;text-decoration:none;outline:none;overflow:hidden;background-position:0 -256px}
.g-btn-inner:hover{text-decoration:none;}
.g-btn-rc{width:3px;height:100%;position:absolute;top:0;cursor:pointer}
.g-btn-rc-1{left:0;background-position:0 0}
.g-btn-rc-2{right:0;background-position:-3px 0}
/* 重要按钮
-------------------- */
.g-btn-impt .g-btn-inner{background-position:0 -364px}
.g-btn-impt .g-btn-rc-1{background-position:-14px -32px}
.g-btn-impt .g-btn-rc-2{background-position:-17px -32px}
.g-btn-impt-hover .g-btn-inner,
.g-btn-impt .g-btn-inner:focus,
.g-btn-impt .g-btn-inner:hover{background-position:0 -400px}
.g-btn-impt-hover .g-btn-rc-1,
.g-btn-impt .g-btn-inner:focus .g-btn-rc-1,
.g-btn-impt .g-btn-inner:hover .g-btn-rc-1{background-position:0 -64px}
.g-btn-impt-hover .g-btn-rc-2,
.g-btn-impt .g-btn-inner:focus .g-btn-rc-2,
.g-btn-impt .g-btn-inner:hover .g-btn-rc-2{background-position:-3px -64px}
.g-btn-impt-active .g-btn-inner{background-position:0 -436px!important}
.g-btn-impt-active .g-btn-rc-1{background-position:-14px -64px!important}
.g-btn-impt-active .g-btn-rc-2{background-position:-17px -64px!important}
/* 边框-深色 */
.g-dialogBox-ft,
.g-dialogBox-bd{border-color:#6C92AD}
/* 背景-内容区 */
.g-dialogBox-ft{background-color:#F6F9FC}
/* 背景图-不平铺 */
.g-dialogBox-hd-oprt,
.g-dialogBox-hd-rc,
.g-btn-rc,
.g-dialogBox-hd,
.g-btn-inner,
.g-dialogBox-hd,
.g-btn-inner{background-image:url(http://mimg.127.net/index/email/img/popup_bg_111215.png);background-repeat:no-repeat}
/* 背景图-横向平铺 */
.g-dialogBox-hd,
.g-btn-inner{background-repeat:repeat-x}
.g-btn-inner,
.g-btn{display:inline-block;+display:inline;+zoom:1;vertical-align:middle}
@media screen and ( max-width : 479px ){
	.g-dialogBox{width:300px;margin-left:-150px;margin-top:-60px}
	.g-dialogBox-simpleContent{padding:15px 0 10px 10px}
	.g-dialogBox-simpleContent .ipt-t{width:100px;margin-right:4px}
	.g-dialogBox-simpleContent .at{margin-right:2px}
}
.g-dialogBox,
.g-dialogBox-simpleContent,
.g-dialogBox-simpleContent .at{-webkit-transition:all 0.5s}
.g-dialogBox-simpleContent .ipt-t{-webkit-transition:width 0.5s}
.mask{display:none;z-index:100;position:absolute;left:0;top:0;background:#000;filter:alpha(opacity=50);-moz-opacity:0.5;opacity:0.5}
.mask .iframe{display:none;_display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;width:100%;height:100%;z-index:99}

/* 错误提示 */
.error-hd,
.error-mid,
.error-ft,
.error-arrow,
.error-tt p{background-image: url('http://mimg.127.net/index/email/img/2012/error_bg.png'); _background-image: url('http://mimg.127.net/index/email/img/2012/error_bg_ie6.png');}
#errorAlert{position: absolute; width: 241px; top: 0; left: 50%; margin-left: 160px; text-align: left; z-index: 1000; display: none;}
#errorAlert.errorAlert-show{display: block; -webkit-animation: shake 0.6s ease-in-out 0.3s; -moz-animation: shake 0.6s ease-in-out 0.3s; -o-animation: shake 0.6s ease-in-out 0.3s; animation: shake 0.6s ease-in-out 0.3s;}
#errorAlert .error-hd,
#errorAlert .error-ft{overflow: hidden; font-size: 0; line-height: 0;}
#errorAlert .error-hd{height: 7px; background-position: -15px 0; background-repeat: no-repeat;}
#errorAlert .error-ft{height: 8px; background-position: -15px -7px; background-repeat: no-repeat;}
#errorAlert .error-mid{padding: 8px 10px 7px 18px; background-position: -256px 0; background-repeat: repeat-y;}
#errorAlert .error-arrow{position: absolute; top: 16px; left: -8px; width: 11px; height: 21px; background-position: 0 0; background-repeat: no-repeat;}
#errorAlert .error-tt p{padding-left: 27px; color: #434343; line-height: 22px; font-weight: bold; font-size: 14px; background-position: -518px center; background-repeat: no-repeat;}
#errorAlert .error-detail{padding: 7px 0 3px; color: #7d7d7d; line-height: 18px;}
#errorAlert .error-detail a{color: #4e90e2; text-decoration: underline;}
@-webkit-keyframes shake{0%{margin-left: 160px;}25%{margin-left: 163px;}50%{margin-left: 160px;}75%{margin-left: 163px;}100%{margin-left: 160px;}}
@-moz-keyframes shake{0%{margin-left: 160px;}25%{margin-left: 163px;}50%{margin-left: 160px;}75%{margin-left: 163px;}100%{margin-left: 160px;}}
@-o-keyframes shake{0%{margin-left: 160px;}25%{margin-left: 163px;}50%{margin-left: 160px;}75%{margin-left: 163px;}100%{margin-left: 160px;}}
@keyframes shake{0%{margin-left: 160px;}25%{margin-left: 163px;}50%{margin-left: 160px;}75%{margin-left: 163px;}100%{margin-left: 160px;}}
</style> 
<!--[if lte IE 8]>
<style type='text/css'>
	.ico-logo{background-image:url(http://mimg.127.net/index/email/img/2012/logo_ie6_v2.png)}
	/*.ipt-t label{top:15px}*/
	.tab-panel .shadow,
	.tab-list .shadow{display:block;font-size:0;line-height:0;position:absolute;background-image:url(http://mimg.127.net/index/email/img/2012/shadow_x.png);background-repeat:repeat-x;_background:#000;_filter:alpha(opacity=20)}
	.tab-panel .shadow-left,
	.tab-panel .shadow-right,
	.tab-list .shadow-left{position:absolute;background-image:url(http://mimg.127.net/index/email/img/2012/shadow_y.png);background-repeat:repeat-y;_background:#000;_filter:alpha(opacity=20)}
	.tab-panel .shadow-bottom,
	.tab-panel .shadow-top,
	.tab-list .shadow-bottom,
	.tab-list .shadow-top{bottom:-5px;left:0;width:220px;height:5px;background-position:0 0}
	.tab-list .shadow-top{bottom:auto;top:-3px;height:3px;background-position:0 -32px}
	.tab-list .shadow-left{width:4px;height:311px;left:-4px;bottom:-2px}
	.tab-panel .shadow-bottom{width:460px;left:0;bottom:-5px;background-position:0 -16px}
	.tab-panel .shadow-top{bottom:auto;width:460px;top:-3px;height:3px;background-position:0 -48px}
	.tab-panel .shadow-left{z-index:10;width:3px;height:309px;left:-3px;bottom:-1px;background-position:-16px 0}
	.tab-panel .shadow-right{width:4px;height:311px;left:auto;right:-4px;bottom:-2px;background-position:-32px 0}
	.ipt-wraper .ipt-c{position:static;visibility:visible}
	.ipt-wraper .ico-checkbox{display:none}
	.copy-item-img{filter:none}
</style>
<![endif]-->
<!--[if IE 6]>
<style type='text/css'>
	.main h3{line-height:normal;font-size:26px;color:#fff;background:none;width:400px;font-family:simhei;font-weight:normal}
	.tab-list .shadow-bottom{height:1px;bottom:-1px;filter:alpha(opacity=10)}
	.tab-list .shadow-top{height:1px;top:-1px;filter:alpha(opacity=10)}
	.tab-list .shadow-left{width:1px;left:-1px;height:309px;bottom:-1px;filter:alpha(opacity=10)}
	.tab-panel .shadow-bottom{width:461px;height:1px;bottom:-1px}
	.tab-panel .shadow-top{height:1px;top:-1px}
	.tab-panel .shadow-left{width:1px;left:-1px;filter:alpha(opacity=20)}
	.tab-panel .shadow-right{height:310px;width:1px;right:-1px;height:309px;bottom:0}
	.copyright,.copyright a{color:#7d7d7d}
	.copy-item{filter:none}
	.copy-item-img{filter:alpha(opacity=65)}
</style>
<![endif]-->
<script id="jsOption" type="text/javascript">
var gOption = {
	'sCookieDomain' : 'email.163.com',//cookie域
	'url2' : 'http://email.163.com/errorpage/error163.htm',//http登录错误转向
	'product' : 'mail163',//http登录产品
	'sDomain' : '163.com',//当前域名
	'sSslUrl2' : 'https://reg.163.com/logins.jsp?',//旧ssl
	'sHttpUrl2' : 'http://reg.163.com/login.jsp?',//旧http
	'gad' : 'email.163.com',
	'aAllDomain' : //所有域及缩写
		{
			'163' : '163.com',
			'126' : '126.com',
			'yeah' : 'yeah.net',
			'shouji' : ''
		},
	'163' : {
		'sSslUrl' : 'https://ssl.mail.163.com/entry/coremail/fcg/ntesdoor2?',//SSL URS
		'sEntryUrl' : 'http://entry.mail.163.com/coremail/fcg/ntesdoor2?',//http登录
		'sLoginTitle' : '登录163网易免费邮',//登录框标题
		'url2' : 'http://email.163.com/errorpage/error163.htm'//entry登录错误转向
	},
	'126' : {
		'sSslUrl' : 'https://mail.126.com/entry/cgi/ntesdoor?',
		'sEntryUrl' : 'http://mail.126.com/entry/cgi/ntesdoor?',
		'sLoginTitle' : '登录126网易免费邮',
		'url2' : 'http://email.163.com/errorpage/error126.htm'
	},
	'yeah' : {
		'sSslUrl' : 'https://mail.yeah.net/entry/cgi/ntesdoor?',
		'sEntryUrl' : 'http://mail.yeah.net/entry/cgi/ntesdoor?',
		'sLoginTitle' : '登录yeah.net网易免费邮',
		'url2' : 'http://email.163.com/errorpage/erroryeah.htm'
	},
	'shouji' : {
		'sSslUrl' : '',
		'sEntryUrl' : '',
		'sLoginTitle' : '登录手机号码邮箱',
		'url2' : 'http://email.163.com/errorpage/error163.htm'
	}
}
</script>
<script id="jsBase" type="text/javascript" src="./Adma_tiyan_files/base_v5.min.js"></script>
<script id="jsBaseInner" type="text/javascript">
fCheckCookie();
fHtml5Tag();
// 判断UA版本，据此进行跳转
var bForcepc = fGetQuery('dv') == 'pc';
var bPreviewPc = fGetQueryHash('preview_dv') =='pc';//附件预览
(function fBrowserRedirect(){
	var sUserAgent = navigator.userAgent.toLowerCase();
	var bIsIpad = sUserAgent.match(/ipad/i) == 'ipad';	
	var bIsIphoneOs = sUserAgent.match(/iphone os/i) == 'iphone os';
	var bIsMidp = sUserAgent.match(/midp/i) == 'midp';
	var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == 'rv:1.2.3.4';
	var bIsUc = sUserAgent.match(/ucweb/i) == 'ucweb';
	var bIsAndroid = sUserAgent.match(/android/i) == 'android';
	var bIsCE = sUserAgent.match(/windows ce/i) == 'windows ce';
	var bIsWM = sUserAgent.match(/windows mobile/i) == 'windows mobile';
	if(bIsIpad){
		var sUrl = location.href;    
		if(!bForcepc && !bPreviewPc){
			window.location.href = 'http://ipad.email.163.com/';
		}
	}
	if(bIsIphoneOs){
		var sUrl = location.href;    
		if(!bForcepc && !bPreviewPc){
			window.location.href = 'http://smart.mail.163.com/';
		}
	}
	if(bIsAndroid){
		top.location.href = 'http://mail.163.com/html/android_device/v1.htm?smart=' + encodeURIComponent('http://smart.mail.163.com/') + '&pad=' + encodeURIComponent('http://ipad.email.163.com/');
	}
	if(bIsMidp||bIsUc7||bIsUc||bIsCE||bIsWM){
		var sUrl = location.href;    
		if(!bForcepc && !bPreviewPc){
			window.location.href = 'http://m.mail.163.com/';
		}
	}
})();
//判断输入用户名（覆盖base库方法）
function fCheckAccount(oThis){
	var sRep163 = /@163.com$/;
	var sRep126 = /@126.com$/;
	var sRepyeah = /@yeah.net$/;
	var sAccount = oThis.value;
	var bShouji = /^\d{1,11}(?:@.*)?$/.test($id('userNameIpt').value);//是否为手机帐号
	var bAt = sAccount.indexOf('@') == -1;
	if(!bShouji){
		if(sRep163.test(sAccount)){
			gCurrentDomain = '163';
			indexLogin.switchTab('163');
		}else if(sRep126.test(sAccount)){
			gCurrentDomain = '126';
			indexLogin.switchTab('126');
		}else if(sRepyeah.test(sAccount)){
			gCurrentDomain = 'yeah';
			indexLogin.switchTab('yeah');
		}
	}
	if(!bAt){
		oThis.value = sAccount.split('@')[0];
	}
}
</script>
</head>

<body class="mail-163">
<div class="page" id="page">
	<header>
		<div class="bg"></div>
	</header>
	<div>
		<div>
			<ul>
				<li>
					<h3>中国第一大微信商城</h3>		
				</li>
			</ul>
		</div>
		<div class="f_right">
                <dl>
                    <dt><img src="./tpl/Home/lanrain/common/ruiec/images/wzc_2wm.jpg" width="110" height="110" /></dt>
                    <dd>扫二维码关注我们</dd>
                </dl>
            </div>	
	</div>
	<!-- 推广 -->	
	<footer class="copyright">
		<div class="inner">
			<ul class="copy-list">
				<li class="copy-item"><a href="http://corp.163.com/index_gb.html" target="_blank">关于淘天天</a></li><li class="copy-item"><a href="http://mail.163.com/html/mail_intro" target="_blank">关于淘天天商城</a></li><li class="copy-item"><a href="http://mail.blog.163.com/" target="_blank">淘天天官方博客</a></li><li class="copy-item"><a href="http://help.mail.163.com/" target="_blank">客户服务</a></li><li class="copy-item"><a href="http://corp.163.com/gb/legal/legal.html" target="_blank">隐私政策</a></li><li class="copy-item"><span class="sptln">|</span>淘天天公司版权所有 © 1997-2014</li><li class="copy-item copy-item-img"><a id="KX_IMG" href="https://ss.knet.cn/verifyseal.dll?sn=e12051044010020841301459&ct=df&pa=426237" target="_blank"><img src="./Adma_tiyan_files/knet.png" alt="可信网站，身份验证"></a></li>
			</ul>
		</div>
		<div class="bg"></div>
	</footer>
	<!-- 背景 -->
	<div class="theme" id="theme"></div>
	<iframe class="httploginframe" src="about:blank" id="frameforlogin" name="frameforlogin" style="display:none;overflow:hidden;border:0">登录iframe</iframe>
	<!--ssl链接预加载-->
	<img src="./Adma_tiyan_files/httpsEnable.gif" width="0" height="0">	
</div>

<div class="mask" id="mask"><iframe class="iframe" frameborder="0" scrolling="no" src="about:blank"></iframe></div>
<div class="g-dialogBox" id="preview_popup">
	<div class="g-dialogBox-hd">
		<b class="g-dialogBox-hd-rc g-dialogBox-hd-rc-1"></b>
		<b class="g-dialogBox-hd-rc g-dialogBox-hd-rc-2"></b>
		<h3 class="g-dialogBox-hd-title">系统提示</h3>
		<span class="g-dialogBox-hd-ext">
			<a href="javascript:void(0);" id="preview_popup_close" class="g-dialogBox-hd-oprt g-dialogBox-hd-oprt-close"></a>
		</span>
	</div>
	<div class="g-dialogBox-bd">
		<div class="g-dialogBox-simpleContent">
			<p class="title" id="preview_popup_cont"></p>
		</div>
	</div>
	<div class="g-dialogBox-ft">
		<div class="g-dialogBox-ft-oprt">
			<div class="g-btn g-btn-impt">
				<a href="javascript:void(0)" id="preview_popup_submit" class="g-btn-inner" hidefocus="hidefocus"><b class="g-btn-rc g-btn-rc-1"></b><b class="g-btn-rc g-btn-rc-2"></b>
					&nbsp;确 定&nbsp;
				</a>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
// 错误提示语
var gErrorInfo = {
	'noId' : {
		'title' : '请先输入您的邮箱帐号'
	},
	'noPhone' : {
		'title' : '请输入您的手机号码'
	},
	'noPw' : {
		'title' : '请输入您的密码'
	},
	'inputWrong' : {
		'title' : '帐号或密码错误',
		'info' 	: '1. 请检查帐号拼写，是否输入有误<br />2. 若帐号长期未登录，可能已被注销，<br/>　&nbsp;请<a href="http://reg.email.163.com/unireg/call.do?cmd=register.entrance" target="_blank">重新注册</a><br />3. 若您忘记密码，请<a href="http://reg.163.com/getpasswd/RetakePassword.jsp?from=email163" target="_blank">找回密码</a><br/>4. 若您需要锁定此帐号，请<a href="http://reg.163.com/lockuser/LockUserByPingma_0.jsp" target="_blank">点击这里</a><br/>5. 若手机号码邮箱的手机号已更换，<br/>　&nbsp;可<a href="http://reg.163.com/mobilealias/findBindHistoryIndex.do" target="_blank">找回原帐号</a>'
	},
	'idLocked' : {
		'title' : '抱歉！您的帐号已被锁定，暂时无法登录。'
	},
	'systemBusy' : {
		'title' : '繁忙的系统暂时需要停下歇歇，请您稍后再试。'
	},
	'loginWrong' : {
		'title' : '您的登录过于频繁，请稍后再试。'
	},
	'_mobileNotAvailable' : {
		'title' : '此帐号不存在！',
		'info' 	: '提示：<br/>该手机号码邮箱尚未激活，<a href="http://reg.email.163.com/unireg/call.do?cmd=register.entrance&flow=mobile&from=email_mobile" target="_blank">免费激活</a>'
	}
};
// 全局变量
var gCurrentDomain = '163',		//当前域
	gShoujiDomain = '',			//手机号码邮箱域
	gShoujiCache = {},			//手机号码邮箱接口数据缓存
	gLoginInfo = {};			//用户登录信息

(function(window){
	window.indexLogin = {
		init 				: fInit,
		calcWindow 			: fCalcWindow,
		changeMainPos 		: fChangeMainPos,

		getLoginInfo 		: fGetLoginInfo,
		getQueryInfo 		: fGetQueryInfo,
		enUid 				: fEnUid,

		initInputBox 		: fInitInputBox,
		switchTab 			: fSwitchTab,
		inputEvent 			: fInputEvent,
		checkInputAlways 	: fCheckInputAlways,
		checkShoujiDomain 	: fCheckShoujiDomain,
		setShoujiDomain 	: fSetShoujiDomain,
		renderLoginVer 		: fRenderLoginVer,
		checkboxChange 		: fCheckboxChange,
		styleEvent 			: fStyleEvent,
		switchUserInfo 		: fSwitchUserInfo,
		verSelect 			: fVerSelect,

		emuIconTick 		: fEmuIconTick,
		emuIcon 			: fEmuIcon,

		submitForm 			: fSubmitForm,
		setAction 			: fSetAction,
		saveLoginInfo 		: fSaveLoginInfo,
		secureLinkage 		: fSecureLinkage,

		showError 			: fShowError,
		hideError 			: fHideError,

		KX 					: fKX,
		tmpSwitchLog 		: fTmpSwitchLog
	};

	var gWindow = {};
	var	bIsEuid = false,	//是否有euid
		sPreUrl,			//附件预览
		sPreUid,			//附件预览
		sPreReason,			//登录原因
		sUid,				//uid
		sStyle,				//判断#style来写死style
		sEnUsername;		//反编码&替换后的euid
	var oStyle = {
			value : '-1'
		};
	
	var oUserIpt, oTxtPwd;

	var bIsMobile = false;

	function fInit(){
		var me = this;

		oUserIpt = $id('userNameIpt');
		oTxtPwd = $id('pwdInput');

		window.frames['frameforlogin'].location.href = 'about:blank';

		me.getLoginInfo();
		me.getQueryInfo();
		me.enUid();
		me.switchTab(gCurrentDomain);
		me.initInputBox();

		var sHash = fGetQueryHash('tab');
		if(sHash == 'shouji'){
			me.switchTab('shouji');
		}

		// 初始化'记住帐号'
		$id('rmbUser').onclick = function(){
			me.checkboxChange($id('rmbUser'));
		};
		// 登录版本选择
		var oVerSelect = $id('verSelect');
		fEventListen($id('ftVerSelLink'), 'click', function(){
			oVerSelect.style.display = 'block';
		});
		oVerSelect.onmouseout = function(e){
			var oE = e || window.event;
			var that = this;
			fE(function(){
				oVerSelect.style.display = 'none';
			}, oE, that);
		};
		// 大写锁定开启判断
		var oCapsLockTest = new CapsLock({
			el : $id('pwdInput'),
			change : function(bFlag){
				var oHint = $id('capsLockHint');
				if(bFlag){
					oHint.style.display = 'block';
				}else{
					oHint.style.display = 'none';
				}
			}
		});

		me.KX(); // 可信标识
	}

	/**
	 * 获取窗口宽高
	 */
	function fCalcWindow(){
		gWindow.width = typeof window.innerWidth == 'undefined' ? document.documentElement.clientWidth : window.innerWidth;
		gWindow.height = typeof window.innerHeight == 'undefined' ? document.documentElement.clientHeight : window.innerHeight;
		// 窗口最小高度不能小于435像素
		gWindow.height = gWindow.height <= 435 ? 435 : gWindow.height;
	}

	/**
	 * 设定登录框位置上下居中
	 */
	function fChangeMainPos(){
		var oMainHd = $id('mainHd');
		if(typeof gWindow.height == 'undefined'){
			me.calcWindow();
		}
		$id('main').style.marginTop = (gWindow.height - 45 - 65 - 308)/2 + 'px';
		if(gWindow.height < 700){
			oMainHd.style.top = '-50px';
			if(gWindow.height < 520){
				oMainHd.style.display = 'none';
			}else{
				oMainHd.style.display = 'block';
			}
		}else{
			 oMainHd.style.top = '-80px';
		}
	}

	/**
	 * 获取cookie中用户登录信息
	 */
	function fGetLoginInfo(){
		var sCookie = fGetCookie('alllogininfo');
		if(sCookie){
			var aCookie = sCookie.split('|');
			for(var i=0;i<aCookie.length;i++){
				var aDomainInfo = aCookie[i].split(';');
				if(aDomainInfo.length == 3){
					gLoginInfo[aDomainInfo[0]] = {username : aDomainInfo[1], style : aDomainInfo[2]};
				}
			}
		}
		var initDomain = fGetCookie('alllogindomain');
		if(initDomain){
			if(initDomain == 'qiye'){ // 兼容cookie中是qiye的情况，全部替换到shouji
				initDomain = 'shouji';
			}
			gCurrentDomain = initDomain;
		}

		//? 判断url的参数是否从邮箱退出,从search和hash取，search优先级最高，hash次之，最后用cookie
		var sLastUser = fGetQuery('u');
		if(sLastUser === null){
			sLastUser = (location.hash + '').replace('#', '');
		}
		if(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$id/.test(sLastUser)){
			var sParamUser = sLastUser.split('@')[0];
			var sParamDomain = sLastUser.split('@')[1].split('.')[0];
			if(sParamDomain == '163' || sParamDomain == '126' || sParamDomain == 'yeah'){
				if(!gLoginInfo[sParamDomain]){
					gLoginInfo[sParamDomain] = {style : '-1'};
				}
				gLoginInfo[sParamDomain].username = sParamUser;
				gCurrentDomain = sParamDomain;
			}
		}
		else{
			sLastUser = (location.hash + '').replace('#', '');
			if(sLastUser == '163' || sLastUser == '126' || sLastUser == 'yeah' || sLastUser == 'shouji'){
				gCurrentDomain = sLastUser;
			}
		}
	}

	/**
	 * 获取url query参数
	 */
	function fGetQueryInfo(){
		var me = this;

		//判断用户style
		sStyle = fGetQueryHash('style');
		//判断用户
		sUid = fGetQueryHash('uid');
		sPreUid = fGetQueryHash('preview_uid');
		sPreUrl =  fGetQueryHash('preview_url');//获取preurl
		sPreReason = fGetQueryHash('preview_reason');//获取pre原因
		if( sUid != null ){
			oUserIpt.value = sUid;
			fCheckAccount(oUserIpt);
		}
		if( sPreUid != null ){
			oUserIpt.value = sPreUid;
			fCheckAccount(oUserIpt);
		}
		if(sPreUrl != null){
			var oPopup = $id('preview_popup'),
			oPopupClose = $id('preview_popup_close'),
			oPopupCont = $id('preview_popup_cont'),
			oPopupSub = $id('preview_popup_submit'),
			oMask = $id('mask');
			/*if (sPreReason != null){
				sPreReason == 'due' ? oPopupCont.innerHTML = '您的附件预览已失效，请登录邮箱查看。': oPopupCont.innerHTML = '您的附件预览已失效，请登录邮箱查看。';
			}else{
				oPopupCont.innerHTML = '您的附件预览已失效，请登录邮箱查看。';
			}*/
			if (sPreReason != null && sPreReason == 'due'){
				oPopupCont.innerHTML = '您的附件预览已失效，请登录邮箱查看。';
				oPopupClose.onclick = _fHidePopup;
				oPopupSub.onclick = _fHidePopup;
				_fShowPopup();
			}
			function _fShowPopup(){
				oPopup.style.display = 'block';
				oMask.style.height = document.documentElement.clientHeight + 'px';
				oMask.style.width = document.documentElement.clientWidth + 'px';
				oMask.style.display = 'block';
				window.onresize = function(){
					$id('mask').style.height = document.documentElement.clientHeight + 'px';
					$id('mask').style.width = document.documentElement.clientWidth + 'px';
				}
			}
			function _fHidePopup(){
				oPopup.style.display = 'none';
				oMask.style.display = 'none';
				setTimeout(function(){
					$id('chkSSL').checked = false;
					me.submitForm();
				});
			}
		}
	}

	/**
	 * 解析query中euid参数
	 */
	function fEnUid(){
		var sEnUid = fGetQueryHash('euid');
		if( sEnUid != null ){
			//euid错误提示
			var nTmp = window.location.href.indexOf('?');
			if( nTmp != -1 ){
				var sErrorCode = window.location.hash.split('?')[1].split('&')[0].split('=')[1];
				window.location.href = window.location.href.substring(0,nTmp) + '&errorType=' + sErrorCode;
			}
			if (sEnUid.indexOf('?') != -1){
				sEnUid = sEnUid.substring(0,sEnUid.indexOf('?'));
			}
			sErrorCode = fGetQueryHash('errorType');
			if(sErrorCode != null){
				var nTips = '';
				switch ( sErrorCode ){
					case '460' :
						nTips = '密码输入不正确！';
						break;
					case '420' :
						nTips = '此帐号不存在！';
						break;
					case '422' :
						nTips = '此帐号已被锁定！';
						break;
					case '412' :
						nTips = '您短时间内尝试次数过多！';
						break;
					default:
						nTips = '系统繁忙！';
				}
				alert(nTips);
				nTmp = window.location.href.indexOf('&errorType');
				window.location.href = window.location.href.substring(0,nTmp);
			}
			//解析euid
			var nEnUidLen = sEnUid.length;
			if( nEnUidLen % 2 == 0 ){
				bIsEuid = true;//是euid传入
				var sTmpCode;
				var aTmpStr = [];
				aTmpStr.value = '';
				for( i=0; i<nEnUidLen; i=i+2){
					//反编码
					sTmpCode = sEnUid.substr(i,2);
					sTmpCode = parseInt(sTmpCode,16);
					sTmpCode = String.fromCharCode(sTmpCode);
					aTmpStr.value += sTmpCode;
				}
				fCheckAccount(aTmpStr); //根据帐号切换tab-删除@之后
				$id('idInput').value = aTmpStr.value; //反编码帐号赋值
				var nTmpCodeLen = aTmpStr.value.length;
				var sTmpStr2 =''; // 临时存放替换后的用户名
				if(nTmpCodeLen > 4){
					sTmpStr2 = aTmpStr.value.slice(0,2) + '****' + aTmpStr.value.slice(-2);
				}
				else{
					switch ( nTmpCodeLen ){
						case 4 :
							sTmpStr2 =  aTmpStr.value.slice(0,1) + '****' + aTmpStr.value.slice(-1);
							break;
						case 3 :
							sTmpStr2 =  aTmpStr.value.slice(0,1) + '*' + aTmpStr.value.slice(-1);
							break;							
						case 2 :
							sTmpStr2 =  aTmpStr.value.slice(0,1) + '*' ;
							break;
						case 1 :
							sTmpStr2 = '*';
							break;
						default :
							sTmpStr2 = aTmpStr.value;
					}
				}
				sEnUsername = sTmpStr2;
				oUserIpt.value = sTmpStr2;
				oTxtPwd.focus();
			}
		}
	}

	/**
	 * 初始化输入框，绑定事件
	 */
	function fInitInputBox(){
		var me = this;
		var oTab163 = $id('tab163Link'),
			oTab126 = $id('tab126Link'),
			oTabYeah = $id('tabyeahLink'),
			oTabMobile = $id('tabshoujiLink'),
			oAllSSL = $id('allSSL'),
			oChkSSL = $id('chkSSL'),
			oSubmitBtn = $id('btnSubmit'),
			oIdLabel = $id('idPlaceholder'),
			oPwLabel = $id('pwdPlaceholder'),
			oIdL = $id('idInputLine'),
			oPwL = $id('pwdInputLine');

		//帐号
		fEventListen(oUserIpt,'blur',function(){
			fCheckAccount(oUserIpt);
		});
		//tab切换 - 163
		fEventListen(oTab163,'click',function(){
			me.switchTab('163');
		});
		fEventListen(oTab163,'mouseover',function(){
			fCls(oTab163, 'hover', 'add');
		});
		fEventListen(oTab163,'mouseout',function(){
			fCls(oTab163, 'hover', 'remove');
		});
		//tab切换 - 126
		fEventListen(oTab126,'click',function(){
			me.switchTab('126');
		});
		fEventListen(oTab126,'mouseover',function(){
			fCls($id('tab126Link'), 'hover', 'add');
		});
		fEventListen(oTab126,'mouseout',function(){
			fCls(oTab126, 'hover', 'remove');
		});
		//tab切换 - yeah
		fEventListen(oTabYeah,'click',function(){
			me.switchTab('yeah');
		});
		fEventListen(oTabYeah,'mouseover',function(){
			fCls(oTabYeah, 'hover', 'add');
		});
		fEventListen(oTabYeah,'mouseout',function(){
			fCls(oTabYeah, 'hover', 'remove');
		});
		//tab切换 - mobile
		fEventListen(oTabMobile,'click',function(){
			me.switchTab('shouji');
		});
		fEventListen(oTabMobile,'mouseover',function(){
			fCls(oTabMobile, 'hover', 'add');
		});
		fEventListen(oTabMobile,'mouseout',function(){
			fCls(oTabMobile, 'hover', 'remove');
		});
		//安全登录
		fEventListen(oAllSSL,'click',function(){
			me.checkboxChange(oAllSSL);
			me.secureLinkage(oAllSSL, 'chkSSL');
		});
		fEventListen(oChkSSL,'click',function(){
			me.checkboxChange(oChkSSL);
			me.secureLinkage(oChkSSL, 'allSSL');
		});
		//提交按钮
		fEventListen(oSubmitBtn,'mouseover',function(){
			fCls(oSubmitBtn, 'btn-login-hover', 'add');
		});
		fEventListen(oSubmitBtn,'mousedown',function(){
			fCls(oSubmitBtn, 'btn-login-active', 'add');
		});
		fEventListen(oSubmitBtn,'mouseout',function(){
			oSubmitBtn.className = 'btn btn-login';
		});
		//点击双击文字
		fEventListen(oIdLabel, 'dblclick', function(){
			oUserIpt.focus();
		});
		fEventListen(oIdLabel, 'click', function(){
			oUserIpt.focus();
		});
		fEventListen(oPwLabel, 'dblclick', function(){
			oTxtPwd.focus();
		});
		fEventListen(oPwLabel, 'click', function(){
			oTxtPwd.focus();
		});
		
		//帐号
		fEventListen(oUserIpt,'focus',function(){
			fCls(oIdL, 'ipt-t-hover', 'add');
		});
		fEventListen(oUserIpt,'blur',function(){
			fCls(oIdL, 'ipt-t-hover', 'remove');
		});
		fEventListen(oTxtPwd,'focus',function(){
			fCls(oPwL, 'ipt-t-hover', 'add');
		});
		fEventListen(oTxtPwd,'blur',function(){
			fCls(oPwL, 'ipt-t-hover', 'remove');
		});
		
		var sEventName = '';
		var bIsIe = false;
		if(document.body.onpropertychange === null){
			sEventName = 'propertychange';
			var bIsIe = true;
		}else{
			sEventName = 'input';
			me.checkInputAlways();
		}
		var el = document.createElement('div');
		el.setAttribute('oninput', 'return;')
		if(typeof el.oninput === 'function'){
			sEventName = 'input';
			if(bIsIe){
				me.checkInputAlways();
			}
		}
		if(bIsIe){
			me.inputEvent(); // IE bug
		}
		fEventListen(oUserIpt, sEventName, me.inputEvent);
		fEventListen(oTxtPwd, sEventName, me.inputEvent);
	}

	/**
	 * tab切换及状态初始化
	 * @param  {String} sDomain 域名代号：163 | 126 | yeah | shouji
	 */
	function fSwitchTab(sDomain) {
		var me = this;
		var oIdLabel = $id('idPlaceholder'),
			oRmbUser = $id('rmbUser'), 
			oChkSSL = $id('chkSSL'),
			oAllSSL = $id('allSSL'),
			oGetPwd = $id('forGetPassword'),
			oLoginFtTips = $id('loginFootTips'),
			oLoginFtRight = $id('loginFootTipsRight');
		var oDomainMap = {
			 '163' : '163.com'
			,'126' : '126.com'
			,'yeah' : 'yeah.net'
		};

		if(sDomain == 'shouji'){
			me.bIsMobile = true;
		}else{
			me.bIsMobile = false;
		}

		if(oDomainMap[sDomain]){
			$id('domainText').innerHTML = '@' + oDomainMap[sDomain];
		}

		$id('divError').style.display = 'none';

		oUserIpt.removeAttribute('maxLength');
		fEventUnlisten(oUserIpt, 'blur', me.checkShoujiDomain);
		
		document.body.className = 'mail-' + sDomain;
		oRmbUser.checked = true;
		oChkSSL.checked = true;
		oAllSSL.checked = false;
		$id('LoginTitle').innerHTML =  gOption[sDomain]['sLoginTitle'];
		gCurrentDomain = sDomain;//本地调用
		gOption['sDomain'] = gOption['aAllDomain'][gCurrentDomain];//获取当前域缩写，找到对应域，赋值给gOption供base调用、
		gOption['product'] = 'mail' + gCurrentDomain;
		//每次tab切换都写入cookie
		fSetCookie('alllogindomain', gCurrentDomain, true);
		// 隐藏版本选择框
		$id('verSelect').style.display = 'none';
		// 隐藏标题扩展链接
		$id('hdExtLink').style.display = 'none';

		if(sDomain == 'shouji'){
			$id('hdExtLink').style.display = 'block';
			oUserIpt.setAttribute('maxLength', 11);
			if(oUserIpt.value.length > 11){
				oUserIpt.value = oUserIpt.value.substr(0, 11);
			}

			oIdLabel.innerHTML = '请输入手机号码';
			oRmbUser.checked = false;

			oLoginFtTips.style.display = 'block';
			oLoginFtRight.style.display = 'none';
			oAllSSL.parentNode.style.display = 'none';

			oLoginFtTips.style.display = 'block';
			me.renderLoginVer(false);
			oLoginFtTips.innerHTML='还没有网易手机号码邮箱？<a href="http://reg.email.163.com/unireg/call.do?cmd=register.entrance&flow=mobile&from=email_mobile" target="_blank" tabIndex="9">免费激活</a>';

			// 手机号码邮箱需要自动判断域
			fEventListen(oUserIpt, 'blur', me.checkShoujiDomain);

			// 如果已经填了帐号就判断手机号码邮箱域
			if(oUserIpt.value){
				me.checkShoujiDomain();
			}
		}else{
			oIdLabel.innerHTML = '帐号或手机号';
			oAllSSL.parentNode.style.display = 'none';
			oLoginFtTips.style.display = 'none';
			oLoginFtRight.innerHTML = '<a href="http://reg.email.163.com/mailregAll/reg0.jsp?from=email163&regPage=' + sDomain + '" target="_blank" tabIndex="9">注册网易免费邮</a>';
			oLoginFtRight.style.display = 'block';
			me.renderLoginVer(true);
			oGetPwd.style.display = '';
			oGetPwd.href = 'http://reg.163.com/RecoverPasswd1.shtml';
			oGetPwd.innerHTML = '忘记密码?';
			oIdLabel.style.display = 'block'; // 120802
			oRmbUser.checked = true;
		}
		me.checkboxChange(oRmbUser);
		me.checkboxChange(oChkSSL);
		me.checkboxChange(oAllSSL);
		me.styleEvent();
		me.switchUserInfo(); //读取用户名-风格信息等
		//检查是否输入
		if(oUserIpt.value=='') {
			oUserIpt.focus();
		}else{
			oTxtPwd.focus();
		}
		// 统计请求
		me.tmpSwitchLog(sDomain);
	}

	/**
	 * 输入框水印事件
	 */
	function fInputEvent(){
		var oIdL = $id('idInputLine'),
			oPwL = $id('pwdInputLine');
		if(oUserIpt.value==''){
			fCls(oIdL, 'showPlaceholder', 'add');
		}else{
			fCls(oIdL, 'showPlaceholder', 'remove');
		}
		if( oTxtPwd.value == '' ){
			fCls(oPwL, 'showPlaceholder', 'add');
		}else{
			fCls(oPwL, 'showPlaceholder', 'remove');
		}
	}

	/**
	 * 轮询检查输入状态
	 */
	function fCheckInputAlways(){
		var me = this;
		window.oIntervalCheckInputAlways = setInterval(function(){
			me.inputEvent();
		},500);
	}

	/**
	 * 检查手机号码正确性
	 */
	function fCheckShoujiDomain(){
		var me = window.indexLogin;
		var r = /^1\d{10}$/;
		var sId = oUserIpt.value;
		if(r.test(sId)){
			if(gShoujiCache[sId]){
				me.setShoujiDomain(gShoujiCache[sId]);
			}else{
				fGetScript('http://mbind.mail.126.com/mbind/qu.do?pn=' + sId);
			}
		}else if(oUserIpt.value){
			setTimeout(function(){
				me.showError(2);
			},300);
		}
	}

	/**
	 * 设置手机号码对应域
	 * @param  {String} sDomain 域名代号：163 | 126 | yeah | shouji
	 */
	function fSetShoujiDomain(sDomain){
		gShoujiDomain = sDomain;
		gOption['product'] = 'mail' + sDomain;
		gOption['sDomain'] = gOption['aAllDomain'][sDomain];
	}

	/**
	 * 渲染版本设置框
	 * @param  {Boolean} bSwitch 控制版本选择显示隐藏
	 */
	function fRenderLoginVer(bSwitch){
		var me = this;
		// 下拉三角
		if($id('ftDarr').innerHTML == ''){
			var sHtml = me.emuIcon([
				{x : 0, y : 0, width : 7, height : 1}
				,{x : 1, y : 1, width : 5, height : 1}
				,{x : 2, y : 2, width : 3, height : 1}
				,{x : 3, y : 3, width : 1, height : 1}
			]);
			$id('ftDarr').innerHTML = sHtml;
		}
		var oVer = $id('loginFootTipsVer');
		var nShow = 'block';
		if(!bSwitch){
			nShow = 'none';
		}
		oVer.style.display = nShow;
		return;
	}

	/**
	 * 模拟checkbox选择控制
	 * @param  {Object} oInput input控件对象
	 */
	function fCheckboxChange(oInput){
		if(oInput.checked){
			fCls(oInput.parentNode,'ipt-wraper-checked','add');
			oInput.checked = true;
		}else{
			fCls(oInput.parentNode,'ipt-wraper-checked','remove');
			oInput.checked = false;
		}
	}

	/**
	 * 控制全程ssl选项
	 */
	function fStyleEvent(){
		if (gCurrentDomain == 'yeah' && oStyle.value == '10'){
			$id('allSSL').parentNode.style.display = '';
		}else{
			if (gCurrentDomain == 'yeah' && oStyle.value != '10'){
				$id('allSSL').parentNode.style.display = 'none';
			}
		}
	}

	/**
	 * 读取用户名、企业邮域名、风格信息等，切换tab时调用
	 */
	function fSwitchUserInfo() {
		var me = this;
		oTxtPwd.value = '';

		if(gLoginInfo[gCurrentDomain]){
			oUserIpt.value = gLoginInfo[gCurrentDomain].username;
			oStyle.value = gLoginInfo[gCurrentDomain].style;
		}
		
		if(oUserIpt.value.indexOf('@') > -1){
			oUserIpt.value = '';
		}
		
		//判断是否带style参数，有则强制风格
		sStyle && (oStyle.value = sStyle);

		switch(oStyle.value){
			case '7':
				me.verSelect(7); // js6
				break;
			case '6':
				me.verSelect(6); // jy6
				break;
			case '5':
				me.verSelect(5); // js5
				break;
			case 'jy5':
			case '3':
				me.verSelect(3); // jy5
				break;
			default :
				me.verSelect(-1);
		}
	}

	/**
	 * 登录版本选择
	 * @param  {String|Number} sStyle 版本代号
	 */
	function fVerSelect(sStyle){
		var me = window.indexLogin;

		var aAllStyle = $id('verSelectUl').getElementsByTagName('a');
		var oCurrVer;
		for(var i=0; i<aAllStyle.length; i++){
			aAllStyle[i].className = 'ft-verSelect-inner-a';
			if(aAllStyle[i].id == 'styleConf' + sStyle){
				me.emuIconTick(i);	
				oCurrVer = aAllStyle[i];
			}
		}
		oStyle.value = sStyle;
		fCls(oCurrVer, 'ft-verSelect-inner-a-selected', 'add');
		$id('ftVerSelLinkTxt').innerHTML = oCurrVer.innerHTML;
		$id('verSelect').style.display = 'none';
	}

	/**
	 * 模拟版本选择对勾
	 * @param  {Number} nIndex 对应的列表索引
	 */
	function fEmuIconTick(nIndex){
		if($id('verSelectTick').innerHTML == ''){
			$id('verSelectTick').innerHTML = '<i style="position:absolute;height:1px;overflow:hidden;left:10px;top:3px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:9px;top:4px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:10px;top:4px;width:1px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:8px;top:5px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:9px;top:5px;width:2px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:2px;top:6px;width:1px;" class="icoTick-color3"></i><i style="position:absolute;height:1px;overflow:hidden;left:3px;top:6px;width:1px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:4px;top:6px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:7px;top:6px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:8px;top:6px;width:2px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:10px;top:6px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:2px;top:7px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:3px;top:7px;width:2px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:5px;top:7px;width:2px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:7px;top:7px;width:2px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:9px;top:7px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:3px;top:8px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:4px;top:8px;width:4px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:8px;top:8px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:4px;top:9px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:5px;top:9px;width:2px;" class="icoTick-color2"></i><i style="position:absolute;height:1px;overflow:hidden;left:7px;top:9px;width:1px;" class="icoTick-color1"></i><i style="position:absolute;height:1px;overflow:hidden;left:5px;top:10px;width:2px;" class="icoTick-color1"></i>'
		}
		$id('verSelectTick').style.top = ( 24 * nIndex + 5) + 'px';
		return ;
	}

	/**
	 * 模拟图标
	 * @param  {Array} aPixel 图标对应像素点数组
	 * @return {String}       HTML
	 */
	function fEmuIcon(aPixel){
		var sHtml = '';
		for(var i = 0; i < aPixel.length; i++){
			var sBgColor = '';
			if(aPixel[i].color){
				sBgColor = 'background-color:#' + aPixel[i].color + ';';
			}
			var sPixelHtml = '<i style="position:absolute;height:' + aPixel[i].height + 'px;overflow:hidden;left:' + aPixel[i].x + 'px;top:' + aPixel[i].y + 'px;width:' + aPixel[i].width + 'px;' + sBgColor + '"></i>'
			sHtml += sPixelHtml;
		}
		return sHtml;
	}

	/**
	 * 登录表单提交
	 */
	function fSubmitForm(){
		var me = this;
		var oUrl2 = $id('url2'),
			oUserName = $id('idInput'); //有euid时调用
		oUserIpt.value = fTrim(oUserIpt.value);
		if(oUserIpt.value ==''){
			if(document.getElementsByTagName('body')[0].className == 'mail-shouji'){
				me.showError(2);
			}else{
				me.showError(1);
			}
			oUserIpt.focus();
			return false;
		}

		if(gCurrentDomain == 'shouji'){
			if(!gShoujiDomain){
				me.checkShoujiDomain();
				return false;
			}
			gCurrentDomain = gShoujiDomain;
		}

		if(oTxtPwd.value.length == ''){
			me.showError(3);
			oTxtPwd.focus();
			return false;
		}else if(!fTrim(oTxtPwd.value)){ // 特殊处理密码全空格
			me.showError(460);
			oTxtPwd.focus();
			return false;
		}

		//获取previewurl
		if(sPreUrl != null){
			var nPreUid= window.location.hash.indexOf('&preview_uid'),
			nPreUrl= window.location.hash.indexOf('preview_url');
			sPreUrl = window.location.hash.substring(nPreUrl+12,nPreUid);
			sPreUrl = unescape(sPreUrl);
		}
		if(oTxtPwd.value.length > 16 ){
			oTxtPwd.value = oTxtPwd.value.substr(0,16);
		}
		if (oUserIpt.value != sEnUsername){
			bIsEuid = false;
		}
		oUserName.value = bIsEuid ? oUserName.value : oUserIpt.value;
		$id('account').value = oUserName.value + '@' + gOption['aAllDomain'][gCurrentDomain];

		//优化错误提示
		if(gOption[gCurrentDomain]['url2']){
			gOption['url2'] = gOption[gCurrentDomain]['url2'];
		}else{
			gOption['url2'] = 'http://email.163.com/errorpage/err_' + gCurrentDomain + '.htm';
		}
		//错误url2
		oUrl2.value = gOption['url2'];

		//euid
		if(bIsEuid){
			var nTmp = window.location.href.indexOf('?');
			if( nTmp != -1 ){
				oUrl2.value = window.location.href.substring(0,nTmp);
				gOption['url2'] = oUrl2.value;
			}else{
				oUrl2.value = window.location.href;
				gOption['url2'] = oUrl2.value;
			}
		}

		me.setAction();
		me.saveLoginInfo();

		//兼容coremail登录失败调用旧版err页面的情况
		/*setInterval(function(){
			try{
				var sUrl = window.frames['frameforlogin'].window.location.href;
				//若无错误提示，则top跳转
				if((/errorpage\/err_/).test(sUrl)){
					top.location.href = sUrl;
				}
			}catch(e){}
		},0);*/

		setTimeout(function(){
			try{
				//若无错误提示，则判断为登录超时
				if(window.frames['frameforlogin'].document.body.className != 'error'){
					$id('chkSSL').checked = false;
					me.submitForm();
				}
			}catch(e){
				$id('chkSSL').checked = false;
				me.submitForm();
			}
		},3000);

		if ($id('chkSSL').checked){return true}//https登录
		return (sPreUrl == null ? false : true);//http登录 加密:preUrl
	}

	/**
	 * 设置提交action
	 */
	function fSetAction(){
		var me = this;
		var oForm = $id('loginForm');
		//判断df以及module
		var sDf = fGetQueryHash('df');
		var sModule = fGetQueryHash('module');
		var sUserName = $id('account').value;
		
		if(sDf == null){
			sDf = 'email' + gCurrentDomain;
		}
		window.customSkin = 'null';
		if(sDf == 'game_qnyh'){
			window.customSkin = 23;
		}
		
		if(sModule == null){
			sModule = '';
		}

		// 手机号码登录特殊处理
		if(me.bIsMobile){
			sDf = 'email163_mobile'; 
		}

		//设置df的cookie
		fSetCookie('df',sDf,false);
		
		// 测速用参数			
		var sUrlRace = aSpdResult[1]+'_'+aSpdResult[0]+'_'+aSpdResult[2]+'_'+aSpdResult[3];
		
		//SSl登录action
		if($id('chkSSL').checked){
			//if (sPreUrl==null){
				oForm.action = gOption[gCurrentDomain]['sSslUrl']
							+ fUrlP('funcid','loginone',true)
							+ fUrlP('language','-1')
							+ fUrlP('passtype','1')
							+ fUrlP('iframe','1')//使用js重定向，否则使用SSL302
							+ fUrlP('product','mail' + gCurrentDomain)
							+ fUrlP('from','web')
							+ fUrlP('df',sDf)
							+ fUrlP('race',sUrlRace)
							+ fUrlP('module',sModule)
							+ fUrlP('uid',sUserName)
							+ fUrlP('style',oStyle.value)
							+ fUrlP('net',sLocationInfo)
							+ fUrlP('skinid',window.customSkin)
							+ (sPreUrl ? fUrlP('url',encodeURIComponent(sPreUrl)) : '')
							+ ($id('allSSL').checked ? fUrlP('allssl','true') : '');
			/*}else{
				oForm.target = '';
				oForm.action = gOption['sSslUrl2'] 
							+ fUrlP('type','1',true)
							+ fUrlP('product','mail' + gCurrentDomain)
							+ fUrlP('url',encodeURIComponent(sPreUrl));
			}*/
		}else{
			//普通登录action
			//if (sPreUrl==null){
				window.sHttpAction = gOption[gCurrentDomain]['sEntryUrl']
								+ fUrlP('language','-1',true)
								+ fUrlP('net',sLocationInfo)
								+ fUrlP('from','web')
								+ fUrlP('df',sDf)
								+ fUrlP('race',sUrlRace)
								+ fUrlP('module',sModule)
								+ fUrlP('uid',sUserName)
								+ fUrlP('style',oStyle.value)
								+ (sPreUrl ? fUrlP('url',encodeURIComponent(sPreUrl)) : '');
				loginRequest('fEnData');
			/*}else{
				oForm.target = '';
				oForm.action = gOption['sHttpUrl2'] 
							+ fUrlP('type','1',true)
							+ fUrlP('product','mail' + gCurrentDomain)
							+ fUrlP('url',encodeURIComponent(sPreUrl));
			}*/
		}
	}

	/**
	 * 登录信息写入cookie
	 */
	function fSaveLoginInfo(){
		var aCookie = [];
		gLoginInfo[gCurrentDomain] = {username : oUserIpt.value, style : oStyle.value};
		for(var d in gLoginInfo){
			aCookie.push(d + ';'+ gLoginInfo[d].username +';' + gLoginInfo[d].style);
		}
		fSetCookie('nts_mail_user', oUserIpt.value ,true);//错误转向调用
		if($id('rmbUser').checked){
			fSetCookie('alllogininfo', aCookie.join('|'), true);
			fSetCookie('alllogindomain', gCurrentDomain, true);
		}else{
			fSetCookie('alllogininfo', '', true);
			fSetCookie('alllogindomain', '', true);
		}
	}

	/**
	 * SSL&全程SSL联动
	 * @param  {[type]} obj [description]
	 * @param  {[type]} id  [description]
	 */
	function fSecureLinkage(obj, id){
		var me = window.indexLogin;
		if(obj.checked && obj.id == 'allSSL' ){
			$id(id).checked = true;
		}
		if( !obj.checked && obj.id == 'chkSSL' ){
			$id(id).checked = false;
		}
		me.checkboxChange(obj);
		me.checkboxChange($id(id));
	}

	/**
	 * 错误信息提示
	 * @param  {Number} nCode 错误代码
	 */
	function fShowError(nCode){
		var me = this;
		var sErrType = '',
			nTarget = 0,
			nBasePoint = 140;
		var oErrAlert = $id('errorAlert'),
			oErrArr = $id('errorArr'),
			oErrDetail =$id('errorDetail');
		if(!isNaN(nCode)){
	    	nCode = nCode - 0;
	    }
		switch(nCode){
			case '_mobileNotAvailable':
				sErrType = '_mobileNotAvailable';
				nTarget = 1;
				break;
			case 1:
				sErrType = 'noId';
				nTarget = 1;
				break;
			case 2:
				sErrType = 'noPhone';
				nTarget = 1;
				break;
			case 3:
				sErrType = 'noPw';
				nTarget = 2;
				break;
			case 460:
				sErrType = 'inputWrong';
				nTarget = 0;
				break;
			case 420:
				sErrType = 'inputWrong';
				nTarget = 0;
				break;
			case 422:
				sErrType = 'idLocked';
				nTarget = 1;
				break;
			/*case 412:
				sErrType = 'loginWrong';
				nTarget = 0;
				break;*/ //已单独处理
			case 414:
				sErrType = 'loginWrong';
				nTarget = 0;
				break;
			case 415:
				sErrType = 'loginWrong';
				nTarget = 0;
				break;
			case 416:
				sErrType = 'loginWrong';
				nTarget = 0;
				break;
			case 417:
				sErrType = 'loginWrong';
				nTarget = 0;
				break;
			case 418:
				sErrType = 'loginWrong';
				nTarget = 0;
				break;
			case 419:
				sErrType = 'loginWrong';
				nTarget = 0;
				break;
			default:
				sErrType = 'systemBusy';
				nTarget = 0;
		}
		if(nCode){
			$id('errorTitle').innerHTML = gErrorInfo[sErrType].title;
			if(gErrorInfo[sErrType].info){
				$id('errorInfo').innerHTML = gErrorInfo[sErrType].info;
				oErrDetail.style.display = 'block';
			}else{
				oErrDetail.style.display = 'none';
			}
			if(nTarget == 1){
				nBasePoint -= 37;
			}else if(nTarget == 2){
				nBasePoint += 37;
			}
			oErrAlert.className = 'errorAlert-show';
			oErrAlert.style.top = nBasePoint - oErrAlert.offsetHeight/2 + 'px';
			oErrArr.style.top = (oErrAlert.offsetHeight - oErrArr.offsetHeight)/2 + 'px';

			fEventListen(document,'click',me.hideError);
			//有键盘输入事件时，隐藏错误提示
			fEventListen(document, 'keydown', function(){
				if(oErrAlert.className == 'errorAlert-show'){
					me.hideError();
				}
			});
		};
	}

	/**
	 * 隐藏错误信息提示
	 */
	function fHideError(){
		$id('errorAlert').className = '';
		fEventUnlisten(document,'click',indexLogin.hideError);
	}

	/**
	 * 重写可信标识
	 */
	function fKX(){
		var oKX = $id('KX_IMG');
		var sHref = 'https://ss.knet.cn/verifyseal.dll?sn=e12051044010020841301459&ct=df&pa=';
		var sPa = RndNum_CNNIC(6);
		oKX.href = sHref + sPa;
		function RndNum_CNNIC(k){
			for (var rnd = '', i = k; i--; ){
				rnd += Math.floor( Math.random() * 10 );
			}
			return rnd;
		}
	}
	
	/**
	 * 临时统计
	 * @param  {String} sName 域名
	 */
	function fTmpSwitchLog(sName){
		var sJsLogUrl = 'http://count.mail.163.com/beacon/webmail.gif?product=emailtab&type='
		if(window.gSetFirstTab){
			sJsLogUrl = sJsLogUrl + 'user';
		}else{
			sJsLogUrl = sJsLogUrl + 'default';
			window.gSetFirstTab = true;
		}
		sJsLogUrl = sJsLogUrl + '&tabname=' + sName + '&rnd=' + (new Date()).getTime();
		var oJsLogImg = $id('jslogimg');
		if(!oJsLogImg){
			oJsLogImg = document.createElement('IMG');
			oJsLogImg.style.display = 'none';
			oJsLogImg.alt = '';
		}
		oJsLogImg.setAttribute('src', sJsLogUrl);
		if(oJsLogImg.alt == ''){
			document.body.appendChild(oJsLogImg);
			oJsLogImg.alt = 'set';
		}
		return;
	}
})(window);

/**
 * 阻止事件触发
 */
function fE(fFunc, oE, oThat){
	var e = oE,
	relatedTarget = e.toElement || e.relatedTarget;
	while(relatedTarget && relatedTarget != oThat){
		relatedTarget = relatedTarget.parentNode;
	}
	if(!relatedTarget){
		fFunc();
	}
}
		
/**
 * 添加删除classname
 * @param  {Object} o     修改对象dom元素
 * @param  {String} sCls  classname
 * @param  {String} sFunc 修改classname方式：add/remove
 */
function fCls(o, sCls, sFunc){
	var oTar = o;
	var nRes = oTar.className.indexOf(sCls);
	if(sFunc == 'add'){
		if(nRes == -1){
			oTar.className = oTar.className + ' ' + sCls;
		}else{
			return;
		}
	}
	if(sFunc == 'remove'){
		if(nRes != -1){
			var sCls = '\\s' + sCls
			var rCls = new RegExp(sCls, 'g');
			oTar.className = oTar.className.replace(rCls, '');
		}else{
			return;
		}
	}
}

/**
 * 定位服务
 */
var sLocationInfo = 'failed',
fSetLocation = function(data){
	var tmpData = '';
	var aData = data.split('&');
	for(var i = 0; i < aData.length; i++){
		var aParam = aData[i].split('=');
		if(aParam.length >= 2){
			if(aParam[0] == 'net'){
				tmpData = aParam[1];
				break;
			}
		}
	}
	if(tmpData == ''){
		sLocationInfo = 'err';
	}else{
		sLocationInfo = tmpData;
	}
	//使用测速服务用户阀值
	var nPct = 100;// 0 - 100
	var rnd = Math.random()*100;
	if(rnd < nPct){
		fNetErrDebug('rnd' + ((rnd + '').split('.'))[0]);
		fSpeedTestPre();
	}else{
		bSpdAuto = false;
	}
};

/*---- 测速服务start ----*/
//电信t:0,联通c:1,教育网e:2
var oSpdTestPosition = {
	 gz : ['gzt', 'gzc', 'gze']
	,hz : ['hz']
	,bj : ['t', 'c', 'e']
};
var aSpdResult = [-2,-2,-2,'db'],
aSpdStartTime = [],
aSpdEndTime = [],
aSpdTmpTime = [];
window.bSpdAuto = true;
var aSpdQueue = ['t','c','e'];
/*if(nSpdRndPosition <= 100){
	nSpdIsBjUrl = '';
	aSpdQueue = oSpdTestPosition.hz;
	aSpdResult[3] = 'hz';
}
if(nSpdRndPosition <= 100){
	nSpdIsBjUrl = 'cte/';
	aSpdQueue = oSpdTestPosition.bj;
	aSpdResult[3] = 'bj';
}*/
var fSpeedTestPre = function(sArea){
	var nSpdRndPosition = Math.random() * 100;
	// 默认几率
	aSpdQueue = oSpdTestPosition.gz;
	aSpdResult[3] = 'gz';
	if(nSpdRndPosition <= 33){
		aSpdQueue = oSpdTestPosition.hz;
		aSpdResult[3] = 'hz';
	}
	if(nSpdRndPosition >33 && nSpdRndPosition <= 66){
		aSpdQueue = oSpdTestPosition.bj;
		aSpdResult[3] = 'bj';
	}
	
	if(sArea){
		aSpdQueue = oSpdTestPosition[sArea];
		aSpdResult[3] = sArea;		
	}
	try{
		for(i=0; i<aSpdQueue.length; i++){
			var sLoca = aSpdQueue[i];
			fGetScript('http://'+ sLoca +'p.127.net/cte/' + sLoca + 'test?' + (new Date()).getTime());
		}
	}catch(e){
		fNetErrDebug('ErrfSpeedTestPre');	
	}
};
var fSpeedTest = function(nCount){
	try{
		var nRnd;
		if(bSpdAuto){
			fNetErrDebug('fSpeedTest' + nCount);
			aSpdStartTime[nCount] = (new Date()).getTime();
			nRnd = aSpdStartTime[nCount];
		}else{
			aSpdStartTimeUser[nCount] = (new Date()).getTime();
			nRnd = aSpdStartTimeUser[nCount];
		}
		var sLoca = aSpdQueue[nCount];
		fGetScript('http://'+ sLoca +'p.127.net/cte/' + sLoca +'p?' + nRnd);
		if(bSpdAuto){
			aSpdResult[nCount] = -1;
		}
	}catch(e){
		fNetErrDebug('ErrfSpeedTest' + nCount);
	}
};
var fSpd = function(nCount){
	try{
		if(bSpdAuto){
			fNetErrDebug('Spd' + nCount);
			aSpdEndTime[nCount] = (new Date()).getTime();
			aSpdResult[nCount] = aSpdEndTime[nCount] - aSpdStartTime[nCount];
		}else{
			aSpdEndTimeUser[nCount] = (new Date()).getTime();
			aSpdResultUser[nCount] = aSpdEndTimeUser[nCount] - aSpdStartTimeUser[nCount];	
			var sIdTmp = 'locationTest';
			var oTar = $id(sIdTmp + nCount);
			var nResult = Number(aSpdResultUser[nCount]);
			/*if(nResult < 100){
				oTar.style.color = 'green';
			}else if(nResult < 300 && nResult > 100 ){
				oTar.style.color = '#ff7200';
			}else{
				oTar.style.color = 'red';
			}*/
			oTar.innerHTML = '<span class="fontWeight">' + nResult + '</span>ms';
		}
	}catch(e){
		fNetErrDebug('ErrSpd' + nCount);
	}
};

//net=err debug
function fNetErrDebug(sStep){
	try{
		if(sLocationInfo.match('err') != null){
			var sFlow = '-' + sStep;
			aSpdResult[3] += sFlow;
		}
	}
	catch(e){}
}
/*---- 测速服务end ----*/

// 手机号码判断域名接口回调
function MobCallback(o){
	var me = window.indexLogin;
	var oErr = $id('divError');
	if(o.nCode != 200){
		setTimeout(function(){
			if($id('errorAlert').className != 'errorAlert-show'){
				me.showError('_mobileNotAvailable');
			}
		},300);
		return;
	}

	var r163 = /@163\.com$/;
	var r126 = /@126\.com$/;
	var rYeah = /@yeah\.net$/;
	var rVip = /@(?:vip|188)/;
	var sDomain = '';

	var sId = o.sNum;
	if(rVip.test(sId)){
		oErr.style.display = '';
		oErr.innerHTML = '您是VIP邮箱用户，登录请点<a href="http://vipmail.163.com/" target="_blank">这里</a>';
		return;
	}else if(r163.test(sId)){
		sDomain = '163';
	}else if(r126.test(sId)){
		sDomain = '126';
	}else if(rYeah.test(sId)){
		sDomain = 'yeah';
	}

	me.setShoujiDomain(sDomain);
	gShoujiCache[$id('userNameIpt').value] = sDomain;
}


window.onload = function(){
	indexLogin.init();
	//启动定位访问
	fGetScript('http://iplocator.mail.163.com/iplocator?callback=fGetLocator');
	// 推广更新后台
	loginExtAD.init();
}

// 调整界面布局
indexLogin.calcWindow();
indexLogin.changeMainPos();
window.onresize = function(){
	indexLogin.calcWindow();
	indexLogin.changeMainPos();
}
</script>
<!-- 预加载极速js -->
<iframe src="./Adma_tiyan_files/preload6.htm" style="display:none" id="frmJs6"></iframe>

<!-- START NetEase Devilfish -->
<script src="./Adma_tiyan_files/ntes.js" type="text/javascript"></script>
<script type="text/javascript">
_ntes_nacc = '163mail';
neteaseTracker();
</script>
<!-- END NetEase Devilfish -->

<img alt="set" src="./Adma_tiyan_files/webmail.gif" style="display: none;"><script type="text/javascript" src="./Adma_tiyan_files/iplocator" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/get.do" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/gzttest" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/gzctest" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/gzetest" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/bLoginTpl.js" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/gzcp" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/gztp" defer="defer"></script><script type="text/javascript" src="./Adma_tiyan_files/gzep" defer="defer"></script></body></html>